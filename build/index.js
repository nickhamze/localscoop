(()=>{"use strict";var o,l={617:(o,l,e)=>{const t=window.wp.blocks,n=window.wp.i18n,a=window.wp.blockEditor,s=window.wp.components,c=window.wp.element,i=window.wp.apiFetch;var r=e.n(i);const p=window.ReactJSXRuntime,u={name:"Local Business",phone:"(555) 123-4567",is_open_now:!0,google_maps_url:"https://maps.google.com"},d=[{label:(0,n.__)("Small","localscoop"),value:"small"},{label:(0,n.__)("Medium","localscoop"),value:"medium"},{label:(0,n.__)("Large","localscoop"),value:"large"},{label:(0,n.__)("Extra Large","localscoop"),value:"xlarge"}],_=[{label:(0,n.__)("None","localscoop"),value:"none"},{label:(0,n.__)("Solid","localscoop"),value:"solid"},{label:(0,n.__)("Dashed","localscoop"),value:"dashed"},{label:(0,n.__)("Dotted","localscoop"),value:"dotted"}],b=[{label:(0,n.__)("Normal","localscoop"),value:"normal"},{label:(0,n.__)("Bold","localscoop"),value:"bold"},{label:(0,n.__)("Bolder","localscoop"),value:"bolder"},{label:(0,n.__)("Lighter","localscoop"),value:"lighter"},{label:(0,n.__)("100","localscoop"),value:"100"},{label:(0,n.__)("200","localscoop"),value:"200"},{label:(0,n.__)("300","localscoop"),value:"300"},{label:(0,n.__)("400","localscoop"),value:"400"},{label:(0,n.__)("500","localscoop"),value:"500"},{label:(0,n.__)("600","localscoop"),value:"600"},{label:(0,n.__)("700","localscoop"),value:"700"},{label:(0,n.__)("800","localscoop"),value:"800"},{label:(0,n.__)("900","localscoop"),value:"900"}],h=JSON.parse('{"UU":"telex/block-localscoop"}');(0,t.registerBlockType)(h.UU,{edit:function({attributes:o,setAttributes:l}){const{placeId:e,showOpenStatus:t,showPhone:i,showDirections:h,openStatusColor:g,closedStatusColor:x,backgroundColor:C,mobileBarBackground:v,phoneButtonColor:m,directionsButtonColor:B,phoneIconText:w,directionsIconText:j,mobileIconFontSize:k,borderRadius:S,padding:f,statusBadgeSize:T,buttonSize:y,buttonBorderWidth:P,buttonBorderStyle:O,buttonBorderColor:z,buttonTextColor:D,buttonHoverColor:N,buttonHoverTextColor:R,buttonFontSize:L,buttonFontWeight:M,buttonLetterSpacing:$,buttonTextTransform:I,buttonPaddingTop:F,buttonPaddingRight:E,buttonPaddingBottom:A,buttonPaddingLeft:G,buttonMargin:H}=o,[U,W]=(0,c.useState)(u),[J,Y]=(0,c.useState)(!1),[X,q]=(0,c.useState)(null);(0,c.useEffect)(()=>{W(u),e&&K(e)},[e]);const K=async o=>{Y(!0),q(null);try{const l=await r()({path:`/localscoop/v1/place/${o}`,method:"GET"});if(!l||l.error)throw new Error(l?.error||(0,n.__)("Failed to fetch place data","localscoop"));W(l)}catch(o){const l=o.message||(0,n.__)("Failed to fetch place data","localscoop");q(l),W(u)}finally{Y(!1)}},Q={backgroundColor:C||void 0,"--open-status-color":g,"--closed-status-color":x,"--status-badge-size":T,"--button-size":y,"--mobile-bar-bg":v,"--phone-button-bg":m,"--directions-button-bg":B,"--phone-text":w,"--directions-text":j,"--mobile-text-font-size":`${k}px`,"--button-border-width":P?`${P}px`:void 0,"--button-border-style":O||void 0,"--button-border-color":z||void 0,"--button-text-color":D||void 0,"--button-hover-color":N||void 0,"--button-hover-text-color":R||void 0,"--button-font-size":L?`${L}px`:void 0,"--button-font-weight":M||void 0,"--button-letter-spacing":$?`${$}px`:void 0,"--button-text-transform":I||void 0,"--button-padding":F||E||A||G?`${F||0}px ${E||0}px ${A||0}px ${G||0}px`:void 0,"--button-margin":H?`${H}px`:void 0,"--button-border-radius":S?`${S}px`:void 0},V=(0,a.useBlockProps)({style:Q});return(0,p.jsxs)("div",{...V,children:[(0,p.jsxs)(a.InspectorControls,{children:[(0,p.jsxs)(s.PanelBody,{title:(0,n.__)("Business Configuration","localscoop"),initialOpen:!0,children:[(0,p.jsx)(s.TextControl,{label:(0,n.__)("Google Place ID","localscoop"),value:e||"",onChange:o=>l({placeId:o}),help:(0,n.__)("Enter the Google Place ID for your business. You can find this using the Google Place ID Finder online.","localscoop"),placeholder:"ChIJN1t_tDeuEmsRUsoyG83frY4"}),e&&(0,p.jsx)(s.Button,{variant:"link",isDestructive:!0,onClick:()=>l({placeId:""}),style:{fontSize:"12px"},children:(0,n.__)("Clear Place ID","localscoop")})]}),(0,p.jsxs)(s.PanelBody,{title:(0,n.__)("Display Options","localscoop"),initialOpen:!1,children:[(0,p.jsx)(s.ToggleControl,{label:(0,n.__)("Show Open/Closed Status","localscoop"),checked:t,onChange:o=>l({showOpenStatus:o}),help:(0,n.__)("Display whether the business is currently open or closed (button element)","localscoop")}),(0,p.jsx)(s.ToggleControl,{label:(0,n.__)("Show Phone Number","localscoop"),checked:i,onChange:o=>l({showPhone:o}),help:(0,n.__)("Display a clickable phone button that calls the number (button element)","localscoop")}),(0,p.jsx)(s.ToggleControl,{label:(0,n.__)("Show Directions","localscoop"),checked:h,onChange:o=>l({showDirections:o}),help:(0,n.__)("Display a directions button that opens Google Maps (button element)","localscoop")})]}),(0,p.jsxs)(s.PanelBody,{title:(0,n.__)("Mobile Toolbar Text","localscoop"),initialOpen:!1,children:[(0,p.jsx)(s.TextControl,{label:(0,n.__)("Phone Button Text (Mobile)","localscoop"),value:w,onChange:o=>l({phoneIconText:o}),help:(0,n.__)("Text displayed for phone button in mobile toolbar (default: CALL)","localscoop"),placeholder:"CALL"}),(0,p.jsx)(s.TextControl,{label:(0,n.__)("Directions Button Text (Mobile)","localscoop"),value:j,onChange:o=>l({directionsIconText:o}),help:(0,n.__)("Text displayed for directions button in mobile toolbar (default: MAP)","localscoop"),placeholder:"MAP"}),(0,p.jsx)(s.RangeControl,{label:(0,n.__)("Mobile Text Font Size","localscoop"),value:k,onChange:o=>l({mobileIconFontSize:o}),min:10,max:24,step:1,help:(0,n.__)("Adjust the font size of mobile toolbar text in pixels","localscoop")})]}),(0,p.jsxs)(s.PanelBody,{title:(0,n.__)("Button Size","localscoop"),initialOpen:!1,children:[(0,p.jsx)(s.SelectControl,{label:(0,n.__)("Open/Closed Button Size","localscoop"),value:T,onChange:o=>l({statusBadgeSize:o}),options:d,help:(0,n.__)("Control the size of the open/closed status button","localscoop")}),(0,p.jsx)(s.SelectControl,{label:(0,n.__)("Phone & Directions Button Size","localscoop"),value:y,onChange:o=>l({buttonSize:o}),options:d,help:(0,n.__)("Control the size of phone and directions buttons","localscoop")}),(0,p.jsx)(s.RangeControl,{label:(0,n.__)("Border Radius (Desktop)","localscoop"),value:S,onChange:o=>l({borderRadius:o}),min:0,max:50,step:1,help:(0,n.__)("Adjust the corner roundness in pixels (desktop only, all buttons)","localscoop")})]}),(0,p.jsxs)(s.PanelBody,{title:(0,n.__)("Button Typography (Desktop)","localscoop"),initialOpen:!1,children:[(0,p.jsx)("p",{className:"components-base-control__help",children:(0,n.__)("These settings affect all buttons on desktop.","localscoop")}),(0,p.jsx)(s.RangeControl,{label:(0,n.__)("Font Size","localscoop"),value:L,onChange:o=>l({buttonFontSize:o}),min:10,max:32,step:1,help:(0,n.__)("Button text font size in pixels","localscoop")}),(0,p.jsx)(s.SelectControl,{label:(0,n.__)("Font Weight","localscoop"),value:M,onChange:o=>l({buttonFontWeight:o}),options:b,help:(0,n.__)("Button text font weight","localscoop")}),(0,p.jsx)(s.RangeControl,{label:(0,n.__)("Letter Spacing","localscoop"),value:$,onChange:o=>l({buttonLetterSpacing:o}),min:-2,max:10,step:.1,help:(0,n.__)("Space between letters in pixels","localscoop")}),(0,p.jsx)(s.SelectControl,{label:(0,n.__)("Text Transform","localscoop"),value:I,onChange:o=>l({buttonTextTransform:o}),options:[{label:(0,n.__)("None","localscoop"),value:"none"},{label:(0,n.__)("Uppercase","localscoop"),value:"uppercase"},{label:(0,n.__)("Lowercase","localscoop"),value:"lowercase"},{label:(0,n.__)("Capitalize","localscoop"),value:"capitalize"}],help:(0,n.__)("Text transformation style","localscoop")})]}),(0,p.jsxs)(s.PanelBody,{title:(0,n.__)("Button Spacing (Desktop)","localscoop"),initialOpen:!1,children:[(0,p.jsx)("p",{className:"components-base-control__help",children:(0,n.__)("These settings control spacing for all buttons on desktop.","localscoop")}),(0,p.jsx)(s.RangeControl,{label:(0,n.__)("Top Padding","localscoop"),value:F,onChange:o=>l({buttonPaddingTop:o}),min:0,max:50,step:1,help:(0,n.__)("Top padding inside buttons","localscoop")}),(0,p.jsx)(s.RangeControl,{label:(0,n.__)("Right Padding","localscoop"),value:E,onChange:o=>l({buttonPaddingRight:o}),min:0,max:50,step:1,help:(0,n.__)("Right padding inside buttons","localscoop")}),(0,p.jsx)(s.RangeControl,{label:(0,n.__)("Bottom Padding","localscoop"),value:A,onChange:o=>l({buttonPaddingBottom:o}),min:0,max:50,step:1,help:(0,n.__)("Bottom padding inside buttons","localscoop")}),(0,p.jsx)(s.RangeControl,{label:(0,n.__)("Left Padding","localscoop"),value:G,onChange:o=>l({buttonPaddingLeft:o}),min:0,max:50,step:1,help:(0,n.__)("Left padding inside buttons","localscoop")}),(0,p.jsx)(s.RangeControl,{label:(0,n.__)("Button Margin","localscoop"),value:H,onChange:o=>l({buttonMargin:o}),min:0,max:30,step:1,help:(0,n.__)("Space around all buttons","localscoop")})]}),(0,p.jsxs)(s.PanelBody,{title:(0,n.__)("Button Border (Desktop)","localscoop"),initialOpen:!1,children:[(0,p.jsx)("p",{className:"components-base-control__help",children:(0,n.__)("Border settings for all buttons on desktop.","localscoop")}),(0,p.jsx)(s.RangeControl,{label:(0,n.__)("Border Width","localscoop"),value:P,onChange:o=>l({buttonBorderWidth:o}),min:0,max:10,step:1,help:(0,n.__)("Border thickness in pixels","localscoop")}),(0,p.jsx)(s.SelectControl,{label:(0,n.__)("Border Style","localscoop"),value:O,onChange:o=>l({buttonBorderStyle:o}),options:_,help:(0,n.__)("Border line style","localscoop")})]}),(0,p.jsx)(a.PanelColorSettings,{title:(0,n.__)("Status & Background Colors","localscoop"),initialOpen:!1,colorSettings:[{value:C,onChange:o=>l({backgroundColor:o}),label:(0,n.__)("Block Background Color","localscoop")},{value:g,onChange:o=>l({openStatusColor:o}),label:(0,n.__)("Open Status Button Color","localscoop")},{value:x,onChange:o=>l({closedStatusColor:o}),label:(0,n.__)("Closed Status Button Color","localscoop")}]}),(0,p.jsx)(a.PanelColorSettings,{title:(0,n.__)("Button Colors (Desktop)","localscoop"),initialOpen:!1,colorSettings:[{value:D,onChange:o=>l({buttonTextColor:o}),label:(0,n.__)("Button Text Color","localscoop")},{value:z,onChange:o=>l({buttonBorderColor:o}),label:(0,n.__)("Button Border Color","localscoop")},{value:N,onChange:o=>l({buttonHoverColor:o}),label:(0,n.__)("Button Hover Background","localscoop")},{value:R,onChange:o=>l({buttonHoverTextColor:o}),label:(0,n.__)("Button Hover Text Color","localscoop")}]}),(0,p.jsx)(a.PanelColorSettings,{title:(0,n.__)("Mobile Toolbar Colors","localscoop"),initialOpen:!1,colorSettings:[{value:v,onChange:o=>l({mobileBarBackground:o}),label:(0,n.__)("Mobile Toolbar Background","localscoop")},{value:m,onChange:o=>l({phoneButtonColor:o}),label:(0,n.__)("Phone Button Color (Mobile)","localscoop")},{value:B,onChange:o=>l({directionsButtonColor:o}),label:(0,n.__)("Directions Button Color (Mobile)","localscoop")}]})]}),X&&(0,p.jsxs)(s.Notice,{status:"error",isDismissible:!1,style:{marginBottom:"16px"},children:[(0,p.jsx)("strong",{children:"Error:"})," ",X]}),J&&(0,p.jsxs)("div",{style:{textAlign:"center",padding:"20px"},children:[(0,p.jsx)(s.Spinner,{}),(0,p.jsx)("p",{children:(0,n.__)("Loading business data...","localscoop")})]}),U&&!J&&(Z=U,(0,p.jsxs)("div",{className:"wp-block-buttons shop-actions",children:[t&&null!==Z.is_open_now&&void 0!==Z.is_open_now&&(0,p.jsx)("div",{className:"wp-block-button open-status-button",children:(0,p.jsx)("button",{className:`wp-block-button__link wp-element-button ${Z.is_open_now?"open":"closed"} size-${T}`,style:{backgroundColor:Z.is_open_now?g:x},title:(0,n.__)("Current business status","localscoop"),disabled:!0,children:Z.is_open_now?(0,n.__)("Open","localscoop"):(0,n.__)("Closed","localscoop")})}),i&&Z.phone&&(0,p.jsx)("div",{className:"wp-block-button phone-button",children:(0,p.jsxs)("button",{className:`wp-block-button__link wp-element-button phone-link size-${y}`,title:(0,n.__)("Phone","localscoop"),style:{backgroundColor:m},"data-mobile-text":w,"data-tel":Z.phone,onClick:()=>window.open(`tel:${Z.phone}`,"_self"),children:[(0,p.jsx)("span",{className:"desktop-text",children:Z.phone}),(0,p.jsx)("span",{className:"mobile-text",children:w})]})}),h&&Z.google_maps_url&&(0,p.jsx)("div",{className:"wp-block-button directions-button",children:(0,p.jsxs)("button",{className:`wp-block-button__link wp-element-button directions-link size-${y}`,title:(0,n.__)("Directions","localscoop"),style:{backgroundColor:B},"data-mobile-text":j,"data-url":Z.google_maps_url,onClick:()=>window.open(Z.google_maps_url,"_blank"),children:[(0,p.jsx)("span",{className:"desktop-text",children:(0,n.__)("Directions","localscoop")}),(0,p.jsx)("span",{className:"mobile-text",children:j})]})})]}))]});var Z}})}},e={};function t(o){var n=e[o];if(void 0!==n)return n.exports;var a=e[o]={exports:{}};return l[o](a,a.exports,t),a.exports}t.m=l,o=[],t.O=(l,e,n,a)=>{if(!e){var s=1/0;for(p=0;p<o.length;p++){for(var[e,n,a]=o[p],c=!0,i=0;i<e.length;i++)(!1&a||s>=a)&&Object.keys(t.O).every(o=>t.O[o](e[i]))?e.splice(i--,1):(c=!1,a<s&&(s=a));if(c){o.splice(p--,1);var r=n();void 0!==r&&(l=r)}}return l}a=a||0;for(var p=o.length;p>0&&o[p-1][2]>a;p--)o[p]=o[p-1];o[p]=[e,n,a]},t.n=o=>{var l=o&&o.__esModule?()=>o.default:()=>o;return t.d(l,{a:l}),l},t.d=(o,l)=>{for(var e in l)t.o(l,e)&&!t.o(o,e)&&Object.defineProperty(o,e,{enumerable:!0,get:l[e]})},t.o=(o,l)=>Object.prototype.hasOwnProperty.call(o,l),(()=>{var o={57:0,350:0};t.O.j=l=>0===o[l];var l=(l,e)=>{var n,a,[s,c,i]=e,r=0;if(s.some(l=>0!==o[l])){for(n in c)t.o(c,n)&&(t.m[n]=c[n]);if(i)var p=i(t)}for(l&&l(e);r<s.length;r++)a=s[r],t.o(o,a)&&o[a]&&o[a][0](),o[a]=0;return t.O(p)},e=globalThis.webpackChunklocalscoop=globalThis.webpackChunklocalscoop||[];e.forEach(l.bind(null,0)),e.push=l.bind(null,e.push.bind(e))})();var n=t.O(void 0,[350],()=>t(617));n=t.O(n)})();